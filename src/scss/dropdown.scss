@use "./variables" as *;
/* ===========================
   Dropdown (CSS-only, details/summary)
   =========================== */


.pk-dropdown {
  position: relative;
  display: inline-block;

  /* trigger */
  > button {
    background: transparent;
    color: #212726;
    border: 0;
    cursor: pointer;
        position: relative;
    padding: 3px 20px 3px 10px;
    &::after {
          content: "";
  position: absolute;
    right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid #212726; 
    }
  }

  /* root menu (default opens to the left edge of trigger) */
  > ul {
    position: absolute; top: calc(100% + 6px); left: 0; min-width: 220px;
    background: #fff; color: #111;
    border: 1px solid #00000014; border-radius: 8px;
    padding: 6px; margin: 0; list-style: none; display: none; z-index: 50;
  }
  &.is-open > ul { display: block; }

  /* flip ROOT to the other side when needed */
  &.is-end > ul { left: auto; right: 0; }

  /* items */
  li {
    position: relative;
    padding: 8px 14px; cursor: pointer; white-space: nowrap;
  }
  li:hover { background: #f5f7fb; }
  li[disabled] { color: #c0c4cc; cursor: not-allowed; }
  li[disabled]:hover { background: transparent; }

  /* divider */
  li[role="separator"] { height: 1px; background: rgba(0,0,0,.06); margin: 6px 0; padding: 0; }

  /* SUBMENU panel (default opens to the right) */
  li > ul {
    position: absolute; top: -6px; left: calc(100% + 8px); min-width: 200px;
    background: #fff; border: 1px solid #00000014; border-radius: 8px;
    padding: 6px; margin: 0; list-style: none; display: none;
  }
  li.is-sub-open > ul { display: block; }

  /* FLIP submenu to the LEFT when space is tight */
  li.is-sub-flip > ul { left: auto; right: calc(100% + 8px); }

  /* caret */
  li:has(> ul) { display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
  li:has(> ul)::after { content: "â€º"; opacity:.6; }
  li.is-sub-flip:has(> ul)::after { content: "â€¹"; } /* caret reverses when flipped */
}
